<Tlacitka@Button>:
    color: 0, 0, 0, 0.5
    font_size: 32
    on_press: root.test_action()

<CalculatorWidget>:
    BoxLayout
        orientation: "vertical"
        size: root.width, root.height

        TextInput:
            id: vstup
            text: "0"
            font_size: 32
            multiline: True
            disabled: True # zakaze psat do displeje
            halign: "right" #odkud kam se zapisuje
            size_hint_y: None
            height: 64
        
        TextInput:
            id: vystup
            text: ""
            font_size: 32
            multiline: True
            disabled: True 
            halign: "right" #odkud kam se zapisuje
            size_hint_y: None
            height: 128

        GridLayout: #udava pocet sloupcu, radku
            cols: 4
            rows: 6

            # SLOUPEC 1

            #Pokud už používá operace +,-,/,*,= tak nejde použivat vedeckou operace
            Button:
                text: "1/x"
                font_size: 32
                on_press: root.vedecka_kalkulacka("1/x") if root.ids.vstup.text[-1] not in ('/', '*', '-', '+', '=') else None
                background_color: (0.7, 0.7, 0.7, 1) if root.ids.vstup.text and root.ids.vstup.text[-1] not in ('/', '*', '-', '+', '=') else (0, 0, 0, 1)

            Button:
                text: "x^2"
                font_size: 32
                on_press: root.vedecka_kalkulacka("x^2") if root.ids.vstup.text[-1] not in ('/', '*', '-', '+', '=') else None
                background_color: (0.7, 0.7, 0.7, 1)  if root.ids.vstup.text and root.ids.vstup.text[-1] not in ('/', '*', '-', '+', '=') else (0, 0, 0, 1)

            Button:
                text: "x^3"
                font_size: 32
                on_press: root.vedecka_kalkulacka("x^3") if root.ids.vstup.text[-1] not in ('/', '*', '-', '+', '=') else None
                background_color: (0.7, 0.7, 0.7, 1)  if root.ids.vstup.text and root.ids.vstup.text[-1] not in ('/', '*', '-', '+', '=') else (0, 0, 0, 1)

            Button:
                text: "√"
                font_size: 32
                on_press: root.vedecka_kalkulacka("√") if root.ids.vstup.text[-1] not in ('/', '*', '-', '+', '=') else None
                background_color: (0.7, 0.7, 0.7, 1) if root.ids.vstup.text and root.ids.vstup.text[-1] not in ('/', '*', '-', '+', '=') else (0, 0, 0, 1)
                

            # SLOUPEC 2
            Button:
                text: "1"
                font_size: 32
                on_press: root.cisla(1) if root.ids.vstup.text[-1] not in ('=') else None
                background_color: (0.7, 0.7, 0.7, 1) if root.ids.vstup.text and root.ids.vstup.text[-1] != '=' else (0, 0, 0, 1)

            Button:
                text: "2"
                font_size: 32
                on_press: root.cisla(2) if root.ids.vstup.text[-1] not in ('=') else None
                background_color: (0.7, 0.7, 0.7, 1) if root.ids.vstup.text and root.ids.vstup.text[-1] != '=' else (0, 0, 0, 1)

            Button:
                text: "3"
                font_size: 32
                on_press: root.cisla(3) if root.ids.vstup.text[-1] not in ('=') else None
                background_color: (0.7, 0.7, 0.7, 1) if root.ids.vstup.text and root.ids.vstup.text[-1] != '=' else (0, 0, 0, 1)

            Button:
                text: "+"
                font_size: 32
                on_press: root.operace("+") 
                background_color: (0.7, 0.7, 0.7, 1)

            # SLOUPEC 3
            Button:
                text: "4"
                font_size: 32
                on_press: root.cisla(4) if root.ids.vstup.text[-1] not in ('=') else None
                background_color: (0.7, 0.7, 0.7, 1) if root.ids.vstup.text and root.ids.vstup.text[-1] != '=' else (0, 0, 0, 1)

            Button:
                text: "5"
                font_size: 32
                on_press: root.cisla(5) if root.ids.vstup.text[-1] not in ('=') else None
                background_color: (0.7, 0.7, 0.7, 1) if root.ids.vstup.text and root.ids.vstup.text[-1] != '=' else (0, 0, 0, 1)

            Button:
                text: "6"
                font_size: 32
                on_press: root.cisla(6) if root.ids.vstup.text[-1] not in ('=') else None
                background_color: (0.7, 0.7, 0.7, 1) if root.ids.vstup.text and root.ids.vstup.text[-1] != '=' else (0, 0, 0, 1)

            Button:
                text: "-"
                font_size: 32
                on_press: root.operace("-")
                background_color: (0.7, 0.7, 0.7, 1)

            # SLOUPEC 4
            Button:
                text: "7"
                font_size: 32
                on_press: root.cisla(7) if root.ids.vstup.text[-1] not in ('=') else None
                background_color: (0.7, 0.7, 0.7, 1) if root.ids.vstup.text and root.ids.vstup.text[-1] != '=' else (0, 0, 0, 1)

            Button:
                text: "8"
                font_size: 32
                on_press: root.cisla(8) if root.ids.vstup.text[-1] not in ('=') else None
                background_color: (0.7, 0.7, 0.7, 1) if root.ids.vstup.text and root.ids.vstup.text[-1] != '=' else (0, 0, 0, 1)

            Button:
                text: "9"
                font_size: 32
                on_press: root.cisla(9) if root.ids.vstup.text[-1] not in ('=') else None
                background_color: (0.7, 0.7, 0.7, 1) if root.ids.vstup.text and root.ids.vstup.text[-1] != '=' else (0, 0, 0, 1)


            Button:
                text: "*"
                font_size: 32
                on_press: root.operace("*") 
                background_color: (0.7, 0.7, 0.7, 1)

            # SLOUPEC 5
            Button:
                text: "="
                font_size: 32
                on_press: root.vypocitej()
                background_color: (0.7, 0.7, 0.7, 1)

            Button:
                text: "0"
                font_size: 32
                on_press: root.cisla(0)
                background_color: (0.7, 0.7, 0.7, 1) if root.ids.vstup.text and root.ids.vstup.text[-1] != '=' else (0, 0, 0, 1)
            
            Button:
                text: "AC"
                font_size: 32
                on_press: root.smaz()
                background_color: (0, 0, 0, 1)if root.ids.vstup.text == 'Error' else (0.7, 0.7, 0.7, 1)

            Button:
                text: "/"
                font_size: 32
                on_press: root.operace("/")
                background_color: (0.7, 0.7, 0.7, 1)

            # SLOUPEC 6

            Button:
                text: "."
                font_size: 32
                on_press: root.operace(".")
                background_color: (0.7, 0.7, 0.7, 1)

            Button:
                text: "C"
                font_size: 32
                on_press: root.vymaz_jedno()
                background_color: (0.7, 0.7, 0.7, 1)

            Tlacitka:
                font_size: 32
                on_press: root.zmen_rezim()
                background_normal: 'Day_night.jpeg'

            Button:
                text: "/"
                font_size: 32
                on_press: root.operace("/")

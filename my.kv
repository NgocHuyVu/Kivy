<Button@Button>
    #background_normal: ''
    font_size: "16sp"

<TextBox@TextInput>
    font_size: "16sp"
    readonly: True
    multiline: False
    halign: "right" #odkud kam se zapisuje


CalculatorManager:
    CalculatorWidget:
    ScienceCalculatorWidget:
    SnakeCalculator:

<CalculatorWidget>:
    name: "prvni"

    BoxLayout: #-- sestaveniElementu
        orientation: "vertical"

        TextBox:
            id: vstup
            text: "0"
            size_hint_y: None
            height: 64
        
        TextBox:
            id: vystup
            text: ""
            font_size: "32sp"
            size_hint_y: None
            height: 128

        GridLayout: #udava pocet sloupcu, radku
            cols: 4
            rows: 6
            
            # Sloupec 1

            Button:
                id: rezim_button_1
                text: "AC"
                on_press: root.smaz()
                background_color: (0, 0, 0, 1)if root.ids.vstup.text == 'Error' else (0.7, 0.7, 0.7, 1)
            
            Button:
                id: rezim_button_2
                text: "C"
                on_press: root.vymaz_jedno()
                background_color: (0.7, 0.7, 0.7, 1)
            
            Button:
                #font_size: 32
                id: zmena_barvy
                on_press: root.zmen_rezim()
                background_normal: 'Day_night.jpeg'

            Button:
                background_normal: 'veda.jpg'
                id: prepnuti_kalkulacky
                #font_size: 32
                #on_press: root.vedecka_kalkulacka_velikost()  
                #on_press: root.current = 'sc_kalkulacka'
                on_release: 
                    root.vedecka_kalkulacka_velikost()  
                    app.root.current = "druhy"
                    root.manager.transition.direction = "left"

            # SLOUPEC 2
            Button:
                id: rezim_button_3
                text: "7"
                on_press: root.cisla(7) if root.ids.vstup.text[-1] not in ('=') else None
                background_color: (0.7, 0.7, 0.7, 1) if root.ids.vstup.text and root.ids.vstup.text[-1] != '=' else (0, 0, 0, 1)

            Button:
                id: rezim_button_4
                text: "8"
                on_press: root.cisla(8) if root.ids.vstup.text[-1] not in ('=') else None
                background_color: (0.7, 0.7, 0.7, 1) if root.ids.vstup.text and root.ids.vstup.text[-1] != '=' else (0, 0, 0, 1)

            Button:
                id: rezim_button_5
                text: "9"
                on_press: root.cisla(9) if root.ids.vstup.text[-1] not in ('=') else None
                background_color: (0.7, 0.7, 0.7, 1) if root.ids.vstup.text and root.ids.vstup.text[-1] != '=' else (0, 0, 0, 1)

            Button:
                id: rezim_button_6
                text: "*"
                on_press: root.operace("*") 
                background_color: (0.7, 0.7, 0.7, 1)

            # SLOUPEC 3
            Button:
                id: rezim_button_7
                text: "4"
                on_press: root.cisla(4) if root.ids.vstup.text[-1] not in ('=') else None
                background_color: (0.7, 0.7, 0.7, 1) if root.ids.vstup.text and root.ids.vstup.text[-1] != '=' else (0, 0, 0, 1)

            Button:
                id: rezim_button_8
                text: "5"
                on_press: root.cisla(5) if root.ids.vstup.text[-1] not in ('=') else None
                background_color: (0.7, 0.7, 0.7, 1) if root.ids.vstup.text and root.ids.vstup.text[-1] != '=' else (0, 0, 0, 1)

            Button:
                id: rezim_button_9
                text: "6"
                on_press: root.cisla(6) if root.ids.vstup.text[-1] not in ('=') else None
                background_color: (0.7, 0.7, 0.7, 1) if root.ids.vstup.text and root.ids.vstup.text[-1] != '=' else (0, 0, 0, 1)

            Button:
                id: rezim_button_10
                text: "-"
                on_press: root.operace("-")
                background_color: (0.7, 0.7, 0.7, 1)

            # SLOUPEC 4
            Button:
                id: rezim_button_11
                text: "1"
                on_press: root.cisla(1) if root.ids.vstup.text[-1] not in ('=') else None
                background_color: (0.7, 0.7, 0.7, 1) if root.ids.vstup.text and root.ids.vstup.text[-1] != '=' else (0, 0, 0, 1)

            Button:
                id: rezim_button_12
                text: "2"
                on_press: root.cisla(2) if root.ids.vstup.text[-1] not in ('=') else None
                background_color: (0.7, 0.7, 0.7, 1) if root.ids.vstup.text and root.ids.vstup.text[-1] != '=' else (0, 0, 0, 1)

            Button:
                id: rezim_button_13
                text: "3"
                on_press: root.cisla(3) if root.ids.vstup.text[-1] not in ('=') else None
                background_color: (0.7, 0.7, 0.7, 1) if root.ids.vstup.text and root.ids.vstup.text[-1] != '=' else (0, 0, 0, 1)


            Button:
                id: rezim_button_14
                text: "+"
                #font_size: 32
                on_press: root.operace("+") 
                background_color: (0.7, 0.7, 0.7, 1)

            # SLOUPEC 5
            
            Button:
                id: rezim_button_15
                text: "."
                #font_size: 32
                on_press: root.operace(".")
                background_color: (0.7, 0.7, 0.7, 1)
            Button:
                id: rezim_button_16
                text: "0"
                #font_size: 32
                on_press: root.cisla(0)
                background_color: (0.7, 0.7, 0.7, 1) if root.ids.vstup.text and root.ids.vstup.text[-1] != '=' else (0, 0, 0, 1)
            

            Button:
                id: rezim_button_17
                text: "="
                #font_size: 32
                on_press: root.vypocitej()
                background_color: (0.7, 0.7, 0.7, 1)
            

            Button:
                id: rezim_button_18
                text: "/"
                #font_size: 32
                on_press: root.operace("/")
                background_color: (0.7, 0.7, 0.7, 1)
            
        Button:
            id: rezim_button_19
            text: "had"
            #font_size: 32
            size_hint_y : None
            background_color: (0.7, 0.7, 0.7, 1)
            on_release: 
                app.root.current = "snake"
                #root.manager.transition: NoTransition
                root.manager.transition.direction = "down"


###################################################################
###################################################################
###################################################################
<ScienceCalculatorWidget>:
    name: "druhy"

    BoxLayout:
        id: sestaveniElementu
        orientation: "vertical"
        #orientation: "horizontal" pozdeji jeste prepsat 
        size: root.width, root.height

        TextBox:
            id: vstup
            text: "0"
            size_hint_y: None
            height: 64
        
        TextBox:
            id: vystup
            text: ""
            font_size: "32sp"
            size_hint_y: None
            height: 128

        GridLayout: #udava pocet sloupcu, radku
            cols: 4
            rows: 7

            # Sloupec 1

            Button:
                id: rezim_button_1
                text: "AC"
                on_press: root.smaz()
                background_color: (0, 0, 0, 1)if root.ids.vstup.text == 'Error' else (0.7, 0.7, 0.7, 1)
            
            Button:
                id: rezim_button_2
                text: "C"
                on_press: root.vymaz_jedno()
                background_color: (0.7, 0.7, 0.7, 1)
            
            Button:
                on_press: root.zmen_rezim()
                background_normal: 'Day_night.jpeg'

            Button:
                background_normal: 'veda.jpg'
                #on_press: root.vedecka_kalkulacka_velikost()  
                #on_press: root.current = 'sc_kalkulacka'
                on_release:
                    root.vedecka_kalkulacka_velikost()  
                    app.root.current = "prvni"
                    root.manager.transition.direction = "right"

            # SLOUPEC 2

            #Pokud už používá operace +,-,/,*,= tak nejde použivat vedeckou operace
            Button:
                id: rezim_button_3
                text: "1/x"
                #font_size: 32
                on_press: root.jeden_deli_x() if not any(op in root.ids.vstup.text for op in ('/', '*', '-', '+', '=')) else None
                background_color: (0.7, 0.7, 0.7, 1) if root.ids.vstup.text and not any(op in root.ids.vstup.text for op in ('/', '*', '-', '+', '=')) else (0, 0, 0, 1)

            Button:
                id: rezim_button_4
                text: "x^2"
                #font_size: 32
                on_press: root.druha_mocnina() if not any(op in root.ids.vstup.text for op in ('/', '*', '-', '+', '=')) else None
                background_color: (0.7, 0.7, 0.7, 1) if root.ids.vstup.text and not any(op in root.ids.vstup.text for op in ('/', '*', '-', '+', '=')) else (0, 0, 0, 1)

            Button:
                id: rezim_button_5
                text: "x^3"
                #font_size: 32
                on_press: root.treti_mocnina() if not any(op in root.ids.vstup.text for op in ('/', '*', '-', '+', '=')) else None
                background_color: (0.7, 0.7, 0.7, 1) if root.ids.vstup.text and not any(op in root.ids.vstup.text for op in ('/', '*', '-', '+', '=')) else (0, 0, 0, 1)

            Button:
                id: rezim_button_6
                text: "√"
                #font_size: 32
                on_press: root.druha_odmocnina() if not any(op in root.ids.vstup.text for op in ('/', '*', '-', '+', '=')) else None
                background_color: (0.7, 0.7, 0.7, 1) if root.ids.vstup.text and not any(op in root.ids.vstup.text for op in ('/', '*', '-', '+', '=')) else (0, 0, 0, 1)


            # SLOUPEC 3
            Button:
                id: rezim_button_7
                text: "10^x"
                #font_size: 32
                on_press: root.umocnovani_desitkou() if not any(op in root.ids.vstup.text for op in ('/', '*', '-', '+', '=')) else None
                background_color: (0.7, 0.7, 0.7, 1) if root.ids.vstup.text and not any(op in root.ids.vstup.text for op in ('/', '*', '-', '+', '=')) else (0, 0, 0, 1)

            Button:
                id: rezim_button_8
                text: "π" #PI
                #font_size: 32
                on_press: root.pi() if root.ids.vstup.text[-1] not in ('=') else None
                background_color: (0.7, 0.7, 0.7, 1) if root.ids.vstup.text and root.ids.vstup.text[-1] != '=' else (0, 0, 0, 1)

            Button:
                id: rezim_button_9
                text: "log"
                #font_size: 32
                on_press: root.logaritmus_o_zakladu_10() if not any(op in root.ids.vstup.text for op in ('/', '*', '-', '+', '=')) else None
                background_color: (0.7, 0.7, 0.7, 1) if root.ids.vstup.text and not any(op in root.ids.vstup.text for op in ('/', '*', '-', '+', '=')) else (0, 0, 0, 1)

            Button:
                id: rezim_button_10
                text: "ln"
                #font_size: 32
                on_press: root.prirozeny_logaritmus() if not any(op in root.ids.vstup.text for op in ('/', '*', '-', '+', '=')) else None
                background_color: (0.7, 0.7, 0.7, 1) if root.ids.vstup.text and not any(op in root.ids.vstup.text for op in ('/', '*', '-', '+', '=')) else (0, 0, 0, 1)

            # SLOUPEC 3
            Button:
                id: rezim_button_11
                text: "7"
                #font_size: 32
                on_press: root.cisla(7) if root.ids.vstup.text[-1] not in ('=') else None
                background_color: (0.7, 0.7, 0.7, 1) if root.ids.vstup.text and root.ids.vstup.text[-1] != '=' else (0, 0, 0, 1)

            Button:
                id: rezim_button_12
                text: "8"
                #font_size: 32
                on_press: root.cisla(8) if root.ids.vstup.text[-1] not in ('=') else None
                background_color: (0.7, 0.7, 0.7, 1) if root.ids.vstup.text and root.ids.vstup.text[-1] != '=' else (0, 0, 0, 1)

            Button:
                id: rezim_button_13
                text: "9"
                #font_size: 32
                on_press: root.cisla(9) if root.ids.vstup.text[-1] not in ('=') else None
                background_color: (0.7, 0.7, 0.7, 1) if root.ids.vstup.text and root.ids.vstup.text[-1] != '=' else (0, 0, 0, 1)

            Button:
                id: rezim_button_14
                text: "*"
                #font_size: 32
                on_press: root.operace("*") 
                background_color: (0.7, 0.7, 0.7, 1)

            # SLOUPEC 4
            Button:
                id: rezim_button_15
                text: "4"
                on_press: root.cisla(4) if root.ids.vstup.text[-1] not in ('=') else None
                #font_size: 32
                background_color: (0.7, 0.7, 0.7, 1) if root.ids.vstup.text and root.ids.vstup.text[-1] != '=' else (0, 0, 0, 1)

            Button:
                id: rezim_button_16
                text: "5"
                #font_size: 32
                on_press: root.cisla(5) if root.ids.vstup.text[-1] not in ('=') else None
                background_color: (0.7, 0.7, 0.7, 1) if root.ids.vstup.text and root.ids.vstup.text[-1] != '=' else (0, 0, 0, 1)

            Button:
                id: rezim_button_17
                text: "6"
                #font_size: 32
                on_press: root.cisla(6) if root.ids.vstup.text[-1] not in ('=') else None
                background_color: (0.7, 0.7, 0.7, 1) if root.ids.vstup.text and root.ids.vstup.text[-1] != '=' else (0, 0, 0, 1)

            Button:
                id: rezim_button_18
                text: "-"
                #font_size: 32
                on_press: root.operace("-")
                background_color: (0.7, 0.7, 0.7, 1)

            # SLOUPEC 5
            Button:
                id: rezim_button_19
                text: "1"
                #font_size: 32
                on_press: root.cisla(1) if root.ids.vstup.text[-1] not in ('=') else None
                background_color: (0.7, 0.7, 0.7, 1) if root.ids.vstup.text and root.ids.vstup.text[-1] != '=' else (0, 0, 0, 1)

            Button:
                id: rezim_button_20
                text: "2"
                #font_size: 32
                on_press: root.cisla(2) if root.ids.vstup.text[-1] not in ('=') else None
                background_color: (0.7, 0.7, 0.7, 1) if root.ids.vstup.text and root.ids.vstup.text[-1] != '=' else (0, 0, 0, 1)

            Button:
                id: rezim_button_21
                text: "3"
                #font_size: 32
                on_press: root.cisla(3) if root.ids.vstup.text[-1] not in ('=') else None
                background_color: (0.7, 0.7, 0.7, 1) if root.ids.vstup.text and root.ids.vstup.text[-1] != '=' else (0, 0, 0, 1)


            Button:
                id: rezim_button_22
                text: "+"
                #font_size: 32
                on_press: root.operace("+") 
                background_color: (0.7, 0.7, 0.7, 1)

            # SLOUPEC 6
            
            Button:
                id: rezim_button_23
                text: "."
                on_press: root.operace(".")
                #font_size: 32
                background_color: (0.7, 0.7, 0.7, 1)
            Button:
                id: rezim_button_24
                text: "0"
                #font_size: 32
                on_press: root.cisla(0)
                background_color: (0.7, 0.7, 0.7, 1) if root.ids.vstup.text and root.ids.vstup.text[-1] != '=' else (0, 0, 0, 1)
            

            Button:
                id: rezim_button_25
                text: "="
                #font_size: 32
                on_press: root.vypocitej()
                background_color: (0.7, 0.7, 0.7, 1)
            Button:
                id: rezim_button_26
                text: "/"
                #font_size: 32
                on_press: root.operace("/")
                background_color: (0.7, 0.7, 0.7, 1)

<SnakeCalculator>
    name: "snake"

    BoxLayout:
        #id: rezim
        orientation: "vertical"

        TextInput:
            id: had
            text: ""
            multiline: True
            readonly: True
            halign: "right" #odkud kam se zapisuje
            size_hint_y: None
            height: 200
            #height: dp(200)
            background_color: (0,0,0,0)
            foreground_color: (1,0,1,1)

        GridLayout: #udava pocet sloupcu, radku
            cols: 4
            rows: 6
            
            # Sloupec 1

            Button:
                id: rezim_button_1
                text: "AC"
                font_size: 32
                on_press: root.jidlo.premisti()
                #background_color: (0, 0, 0, 1)if root.ids.vstup.text == 'Error' else (0.7, 0.7, 0.7, 1)
            
            Button:
                id: rezim_button_2
                text: "C"
                font_size: 32
                background_color: (0.7, 0.7, 0.7, 1)
            
            Button:
                font_size: 32
                #on_press: root.zmen_rezim()
                background_normal: 'Day_night.jpeg'

            Button:
                background_normal: 'veda.jpg'
                #font_size: 32
                #on_press: root.vedecka_kalkulacka_velikost()  
                on_press: root.current = 'sc_kalkulacka'
                on_release: 
                    #root.vedecka_kalkulacka_velikost()  
                    app.root.current = "druhy"
                    root.manager.transition.direction = "down"
                    root.manager.transition.direction = "left"

            # SLOUPEC 2
            Button:
                id: rezim_button_3
                text: "7"
                font_size: 32
                #background_color: (0.7, 0.7, 0.7, 1) if root.ids.vstup.text and root.ids.vstup.text[-1] != '=' else (0, 0, 0, 1)

            Button:
                id: rezim_button_4
                text: "8"
                font_size: 32
                on_press: root.pohyb_nahoru(self)
                #background_color: (0.7, 0.7, 0.7, 1) if root.ids.vstup.text and root.ids.vstup.text[-1] != '=' else (0, 0, 0, 1)

            Button:
                id: rezim_button_5
                text: "9"
                font_size: 32
                #background_color: (0.7, 0.7, 0.7, 1) if root.ids.vstup.text and root.ids.vstup.text[-1] != '=' else (0, 0, 0, 1)

            Button:
                id: rezim_button_6
                text: "*"
                font_size: 32
                #background_color: (0.7, 0.7, 0.7, 1)

            # SLOUPEC 3
            Button:
                id: rezim_button_7
                text: "4"
                font_size: 32
                on_press: root.pohyb_vlevo(self)
                #background_color: (0.7, 0.7, 0.7, 1) if root.ids.vstup.text and root.ids.vstup.text[-1] != '=' else (0, 0, 0, 1)

            Button:
                id: rezim_button_8
                text: "5"
                font_size: 32
                #background_color: (0.7, 0.7, 0.7, 1) if root.ids.vstup.text and root.ids.vstup.text[-1] != '=' else (0, 0, 0, 1)

            Button:
                id: rezim_button_9
                text: "6"
                font_size: 32
                on_press: root.pohyb_vpravo(self)
                #background_color: (0.7, 0.7, 0.7, 1) if root.ids.vstup.text and root.ids.vstup.text[-1] != '=' else (0, 0, 0, 1)

            Button:
                id: rezim_button_10
                text: "-"
                font_size: 32
                #background_color: (0.7, 0.7, 0.7, 1)

            # SLOUPEC 4
            Button:
                id: rezim_button_11
                text: "1"
                font_size: 32
                #background_color: (0.7, 0.7, 0.7, 1) if root.ids.vstup.text and root.ids.vstup.text[-1] != '=' else (0, 0, 0, 1)

            Button:
                id: rezim_button_12
                text: "2"
                font_size: 32
                on_press: root.pohyb_dolu(self)
                #background_color: (0.7, 0.7, 0.7, 1) if root.ids.vstup.text and root.ids.vstup.text[-1] != '=' else (0, 0, 0, 1)

            Button:
                id: rezim_button_13
                text: "3"
                font_size: 32
                #background_color: (0.7, 0.7, 0.7, 1) if root.ids.vstup.text and root.ids.vstup.text[-1] != '=' else (0, 0, 0, 1)


            Button:
                id: rezim_button_14
                text: "+"
                font_size: 32
                #background_color: (0.7, 0.7, 0.7, 1)

            # SLOUPEC 5
            
            Button:
                id: rezim_button_15
                text: "."
                font_size: 32
                background_color: (0.7, 0.7, 0.7, 1)

            Button:
                id: rezim_button_16
                text: "0"
                font_size: 32
                #background_color: (0.7, 0.7, 0.7, 1) if root.ids.vstup.#text and root.ids.vstup.text[-1] != '=' else (0, 0, 0, 1)
            

            Button:
                id: rezim_button_17
                text: "="
                font_size: 32
                background_color: (0.7, 0.7, 0.7, 1)
            

            Button:
                id: rezim_button_18
                text: "/"
                font_size: 32
                background_color: (0.7, 0.7, 0.7, 1)
            
        Button:
            id: rezim_button_19
            text: "Kalkulačka"
            font_size: 32
            size_hint_y : None
            background_color: (0.7, 0.7, 0.7, 1)
            on_release: 
                app.root.current = "prvni"
                #root.manager.transition: NoTransition
                root.manager.transition.direction = "up"
